
root@salvator-x:~# find /sys/devices/platform/soc/ee000000.usb/ -name sd*
/sys/devices/platform/soc/ee000000.usb/usb6/6-1/6-1.3/6-1.3:1.0/host1/target1:0:0/1:0:0:0/block/sda
/sys/devices/platform/soc/ee000000.usb/usb6/6-1/6-1.3/6-1.3:1.0/host1/target1:0:0/1:0:0:0/block/sda/sda1
root@salvator-x:~# 
root@salvator-x:~# mount /dev/sda1 /mnt
mount: /mnt: /dev/sda1 already mounted on /mnt.
root@salvator-x:~# 
root@salvator-x:~# umount /dev/sda1
[ 1641.860164] EXT4-fs (sda1): unmounting filesystem 6699127b-6c15-4b14-a131-135e62ab7ae1.
root@salvator-x:~# 
root@salvator-x:~# mount /dev/sda1 /mnt
[ 1643.099871] EXT4-fs (sda1): mounted filesystem 6699127b-6c15-4b14-a131-135e62ab7ae1 r/w with ordered data mode. Quota mode: none.
root@salvator-x:~# 
root@salvator-x:~# dd if=/dev/urandom of=/mnt/file-300M bs=1M count=300; sync
300+0 records in
300+0 records out
314572800 bytes (315 MB, 300 MiB) copied, 19.503 s, 16.1 MB/s
root@salvator-x:~# 
root@salvator-x:~# cp /mnt/file-300M /tmp

Plug out usb immediately!

[ 1667.036974] usb 6-1.3: USB disconnect, device number 7
[ 1667.045469] device offline error, dev sda, sector 8654896 op 0x1:(WRITE) flags 0x9800 phys_seg 2 prio class 2
[ 1667.055517] Aborting journal on device sda1-8.
[ 1667.060161] device offline error, dev sda, sector 8652800 op 0x1:(WRITE) flags 0x9800 phys_seg 1 prio class 2
[ 1667.070202] Buffer I/O error on dev sda1, logical block 1081344, lost sync page write
[ 1667.078136] JBD2: I/O error when updating journal superblock for sda1-8.
[ 1667.085113] EXT4-fs (sda1): shut down requested (2)
cp: error reading '/mnt/file-300M': Input/output error
root@salvator-x:~# 
root@salvator-x:~#  
root@salvator-x:~# 
Plug in usb!

[ 1673.613139] usb 6-1.3: new SuperSpeed USB device number 8 using xhci-renesas-hcd
[ 1673.657264] usb-storage 6-1.3:1.0: USB Mass Storage device detected
[ 1673.665495] scsi host3: usb-storage 6-1.3:1.0
[ 1674.690476] scsi 3:0:0:0: Direct-Access     SanDisk  Ultra            1.00 PQ: 0 ANSI: 6
[ 1674.701541] sd 3:0:0:0: [sdc] 121307136 512-byte logical blocks: (62.1 GB/57.8 GiB)
[ 1674.711244] sd 3:0:0:0: [sdc] Write Protect is off
[ 1674.717970] sd 3:0:0:0: [sdc] Write cache: disabled, read cache: enabled, doesn't support DPO or FUA
[ 1674.739620]  sdc: sdc1
[ 1674.742639] sd 3:0:0:0: [sdc] Attached SCSI removable disk

root@salvator-x:~#  
root@salvator-x:~# 
root@salvator-x:~# find /sys/devices/platform/soc/ee000000.usb/ -name sd*
/sys/devices/platform/soc/ee000000.usb/usb6/6-1/6-1.3/6-1.3:1.0/host3/target3:0:0/3:0:0:0/block/sdc
/sys/devices/platform/soc/ee000000.usb/usb6/6-1/6-1.3/6-1.3:1.0/host3/target3:0:0/3:0:0:0/block/sdc/sdc1
root@salvator-x:~# 
root@salvator-x:~# mount /dev/sdc1 /mnt
[ 1679.081639] EXT4-fs (sdc1): recovery complete
[ 1679.095525] EXT4-fs (sdc1): mounted filesystem 6699127b-6c15-4b14-a131-135e62ab7ae1 r/w with ordered data mode. Quota mode: none.
root@salvator-x:~# 
root@salvator-x:~# cp /mnt/file-300M /tmp
root@salvator-x:~# 
root@salvator-x:~# md5sum /mnt/file-300M /tmp/file-300M
ab6cd9f7ac584a079561d4d8c8c1d44e  /mnt/file-300M
ab6cd9f7ac584a079561d4d8c8c1d44e  /tmp/file-300M
root@salvator-x:~# 
root@salvator-x:~# umount /mnt
[ 1689.878087] EXT4-fs (sdc1): unmounting filesystem 6699127b-6c15-4b14-a131-135e62ab7ae1.
root@salvator-x:~# 
root@salvator-x:~# umount /mnt
[ 1691.578170] EXT4-fs (sda1): unmounting filesystem 6699127b-6c15-4b14-a131-135e62ab7ae1.
root@salvator-x:~# 
 
#### Result: OK ####
