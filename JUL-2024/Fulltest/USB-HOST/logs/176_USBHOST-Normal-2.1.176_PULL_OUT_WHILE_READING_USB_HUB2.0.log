
root@salvator-x:~# find /sys/devices/platform/soc/ee0a0100.usb/ -name sd*
/sys/devices/platform/soc/ee0a0100.usb/usb4/4-1/4-1.1/4-1.1:1.0/host1/target1:0:0/1:0:0:0/block/sda
/sys/devices/platform/soc/ee0a0100.usb/usb4/4-1/4-1.1/4-1.1:1.0/host1/target1:0:0/1:0:0:0/block/sda/sda1
root@salvator-x:~# 
root@salvator-x:~# mount /dev/sda1 /mnt
[ 1526.630049] EXT4-fs (sda1): recovery complete
[ 1526.634645] EXT4-fs (sda1): mounted filesystem a0f764ae-8a75-41cb-a067-cb7cbed8b416 r/w with ordered data mode. Quota mode: none.
root@salvator-x:~# 
root@salvator-x:~# dd if=/dev/urandom of=/mnt/file-300M bs=1M count=300; sync
300+0 records in
300+0 records out
314572800 bytes (315 MB, 300 MiB) copied, 21.6428 s, 14.5 MB/s
root@salvator-x:~# 
root@salvator-x:~# cp /mnt/file-300M /tmp

Plug out usb immediately!

[ 1553.203802] usb 4-1.1: USB disconnect, device number 14
root@salvator-x:~# [ 1553.213340] device offline error, dev sda, sector 122156736 op 0x1:(WRITE) flags 0x9800 phys_seg 2 prio class 2
[ 1553.223692] Aborting journal on device sda1-8.
[ 1553.228424] device offline error, dev sda, sector 121899008 op 0x1:(WRITE) flags 0x9800 phys_seg 1 prio class 2
[ 1553.238618] device offline error, dev sda, sector 121899008 op 0x1:(WRITE) flags 0x9800 phys_seg 1 prio class 2
[ 1553.248728] Buffer I/O error on dev sda1, logical block 15237120, lost sync page write
[ 1553.256695] JBD2: I/O error when updating journal superblock for sda1-8.
[ 1553.994412] EXT4-fs (sda1): shut down requested (2)
[ 1554.064540] sd 1:0:0:0: [sda] Synchronizing SCSI cache
[ 1554.069945] sd 1:0:0:0: [sda] Synchronize Cache(10) failed: Result: hostbyte=0x01 driverbyte=DRIVER_OK

root@salvator-x:~#  
root@salvator-x:~# 
Plug in usb!

[ 1560.456453] usb 4-1.1: new high-speed USB device number 15 using ehci-platform
[ 1560.672208] usb-storage 4-1.1:1.0: USB Mass Storage device detected
[ 1560.679781] scsi host2: usb-storage 4-1.1:1.0
[ 1561.698605] scsi 2:0:0:0: Direct-Access     SanDisk  Extreme Pro      0    PQ: 0 ANSI: 6
[ 1561.710394] sd 2:0:0:0: [sdb] 250085376 512-byte logical blocks: (128 GB/119 GiB)
[ 1561.719274] sd 2:0:0:0: [sdb] Write Protect is off
[ 1561.725471] sd 2:0:0:0: [sdb] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[ 1561.748016]  sdb: sdb1
[ 1561.752190] sd 2:0:0:0: [sdb] Attached SCSI removable disk

root@salvator-x:~#  
root@salvator-x:~# 
root@salvator-x:~# find /sys/devices/platform/soc/ee0a0100.usb/ -name sd*
/sys/devices/platform/soc/ee0a0100.usb/usb4/4-1/4-1.1/4-1.1:1.0/host2/target2:0:0/2:0:0:0/block/sdb
/sys/devices/platform/soc/ee0a0100.usb/usb4/4-1/4-1.1/4-1.1:1.0/host2/target2:0:0/2:0:0:0/block/sdb/sdb1
root@salvator-x:~# 
root@salvator-x:~# mount /dev/sdb1 /mnt
[ 1565.898334] EXT4-fs (sdb1): recovery complete
[ 1565.904473] EXT4-fs (sdb1): mounted filesystem a0f764ae-8a75-41cb-a067-cb7cbed8b416 r/w with ordered data mode. Quota mode: none.
root@salvator-x:~# 
root@salvator-x:~# cp /mnt/file-300M /tmp
root@salvator-x:~# 
root@salvator-x:~# md5sum /mnt/file-300M /tmp/file-300M
01ff488fb1790b72e08545df8283e706  /mnt/file-300M
01ff488fb1790b72e08545df8283e706  /tmp/file-300M
root@salvator-x:~# 
root@salvator-x:~# umount /mnt
[ 1584.175837] EXT4-fs (sdb1): unmounting filesystem a0f764ae-8a75-41cb-a067-cb7cbed8b416.
root@salvator-x:~# 
root@salvator-x:~# umount /mnt
[ 1585.253036] EXT4-fs (sda1): unmounting filesystem a0f764ae-8a75-41cb-a067-cb7cbed8b416.
root@salvator-x:~# 
 
#### Result: OK ####
