
root@salvator-x:~# find /sys/devices/platform/soc/ee300000.sata/ -name sd*
/sys/devices/platform/soc/ee300000.sata/ata3/host1/target1:0:0/1:0:0:0/block/sdb
/sys/devices/platform/soc/ee300000.sata/ata3/host1/target1:0:0/1:0:0:0/block/sdb/sdb2
/sys/devices/platform/soc/ee300000.sata/ata3/host1/target1:0:0/1:0:0:0/block/sdb/sdb1
root@salvator-x:~# 
root@salvator-x:~# (echo d; echo 1; echo d; echo 2; echo d; echo 3; echo d; echo n; echo p; echo 1; echo 2048; echo  "+5G"; echo t; echo 83; echo w) | fdisk /dev/sdb
[32m
Welcome to fdisk (util-linux 2.30).
[0mChanges will remain in memory only, until you decide to write them.
Be careful before u[  648.641076] ata3.00: Enabling discard_zeroes_data
sing the write command.


Command (m for help): Partition number (1,2, default 2): 
Partition 1 has been deleted.

Command ([  648.657310]  sdb: sdb1
m for help): Selected partition 2
Partition 2 has been deleted.

Command (m for help): [31m2: unknown command[0m

Command (m for help): [31mNo partition is defined yet![0m
[31mCould not delete partition 4[0m

Command (m for help): [31m3: unknown command[0m

Command (m for help): [31mNo partition is defined yet![0m
[31mCould not delete partition 4[0m

Command (m for help): Partition type
   p   primary (0 primary, 0 extended, 4 free)
   e   extended (container for logical partitions)
Select (default p): Partition number (1-4, default 1): First sector (2048-500118191, default 2048): Last sector, +sectors or +size{K,M,G,T,P} (2048-500118191, default 500118191): 
Created a new partition 1 of type 'Linux' and of size 5 GiB.
[31mPartition #1 contains a ext3 signature.[0m

Command (m for help): 
Selected partition 1
Hex code (type L to list all codes): Changed type of partition 'Linux' to 'Linux'.

Command (m for help): The partition table has been altered.
Calling ioctl() to re-read partition table.
Syncing disks.

root@salvator-x:~# 
root@salvator-x:~# echo y | mkfs.ext3 -L "HD" /dev/sdb1
mke2fs 1.43.5 (04-Aug-2017)
Discarding device blocks:    4096/1310720               done                            
Creating filesystem with 1310720 4k blocks and 327680 inodes
Filesystem UUID: 394a963b-f69d-4fa9-9ae7-9cb007cb7119
Superblock backups stored on blocks: 
	32768, 98304, 163840, 229376, 294912, 819200, 884736

Allocating group tables:  0/40     done                            
Writing inode tables:  0/40     done                            
Creating journal (16384 blocks): done
Writing superblocks and filesystem accounting information:  0/40     done

root@salvator-x:~# 
root@salvator-x:~# (echo n; echo p; echo 2; echo 10487808; echo "+5G"; echo t; echo 2; echo 83; echo w) | fdisk /dev /sdb
[32m
Welcome to fdisk (util-linux 2.30).
[0mChanges will remain in memory only, until you decide to write them.
Be careful before using the write[  652.976451] ata3.00: Enabling discard_zeroes_data
 command.


Command (m for help): Partition type
   p   primary (1 primary, 0 extended, 3 free)
   e   extended (con[  652.991381]  sdb: sdb1 sdb2
tainer for logical partitions)
Select (default p): Partition number (2-4, default 2): First sector (10487808-500118191, default 10487808): Last sector, +sectors or +size{K,M,G,T,P} (10487808-500118191, default 500118191): 
Created a new partition 2 of type 'Linux' and of size 5 GiB.
[31mPartition #2 contains a ext3 signature.[0m

Command (m for help): Partition number (1,2, default 2): Hex code (type L to list all codes): 
Changed type of partition 'Linux' to 'Linux'.

Command (m for help): The partition table has been altered.
Calling ioctl() to re-read partition table.
Syncing disks.

root@salvator-x:~# 
root@salvator-x:~# echo y | mkfs.ext3 -L "HD" /dev/sdb2
mke2fs 1.43.5 (04-Aug-2017)
Discarding device blocks:    4096/1310720               done                            
Creating filesystem with 1310720 4k blocks and 327680 inodes
Filesystem UUID: 3df15b1a-b94d-4647-b659-8e66daffd513
Superblock backups stored on blocks: 
	32768, 98304, 163840, 229376, 294912, 819200, 884736

Allocating group tables:  0/40     done                            
Writing inode tables:  0/40     done                            
Creating journal (16384 blocks): done
Writing superblocks and filesystem accounting information:  0/40     done

root@salvator-x:~# 
root@salvator-x:~# fdisk -l /dev/sdb
[1mDisk /dev/sdb: 238.5 GiB, 256060514304 bytes, 500118192 sectors
[0mUnits: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x60e25682

[1mDevice[0m     [1mBoot[0m [1m   Start[0m [1m     End[0m [1m Sectors[0m [1mSize[0m [1mId[0m [1mType[0m
/dev/sdb1           2048 10487807 10485760   5G 83 Linux
/dev/sdb2       10487808 20973567 10485760   5G 83 Linux
root@salvator-x:~# 
 
#### Result: OK ####
